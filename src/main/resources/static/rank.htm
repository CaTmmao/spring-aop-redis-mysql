<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>商品排行榜</title>
    <style>
table {
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}



    </style>
</head>

<body>

<h2>商品排行榜</h2>

<table id="rank-table">
    <tr>
        <th>排名</th>
        <th>商品名</th>
        <th>成交金额</th>
    </tr>
</table>

<script>
    var xhr = new XMLHttpRequest();
    xhr.onreadystatechange = function(){
        if( xhr.readyState == 4){
             if( xhr.status >= 200 && xhr.status < 300 || xhr.status == 304){
                 var json = xhr.responseText;
                 var list = JSON.parse(json);
     var str = '<tr><th>排名</th><th>商品名</th><th>成交金额</th></tr>' +
   '<tr><td>1</td><td>' + list[0].goods.name + '</td><td>' + list[0].score + '</td></tr>' +
   '<tr><td>2</td><td>' + list[1].goods.name + '</td><td>' + list[1].score + '</td></tr>' +
   '<tr><td>3</td><td>' + list[2].goods.name + '</td><td>' + list[2].score + '</td></tr>' +
   '<tr><td>4</td><td>' + list[3].goods.name + '</td><td>' + list[3].score + '</td></tr>' +
   '<tr><td>5</td><td>' + list[4].goods.name + '</td><td>' + list[4].score + '</td></tr>'

     document.getElementById('rank-table').innerHTML = str
              }
         }
    };
    // 每次需要发请求需要做两步：
    xhr.open("get", '/rankData', true);
    xhr.send(null);
</script>


</body>
</html>
